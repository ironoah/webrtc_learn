<html>
<head>
  <meta http-equiv="Content-Type"
        content="text/html; charset=UTF-8" />
  <style>
    video {
      width:  320px;
      height:  240px;
      border:  1px solid black;
    }
    div {
      display:  inline-block;
    }
  </style>
</head>
<body>

<!-- load polyfill, local copy first for local testing -->
<script src="extra/adapter.js" type="text/javascript"></script>

<script>
var myVideoStream, myVideo;

////////////////////////////
// This is the main routine.
////////////////////////////

// This kicks off acquisition of local media.
window.onload = function () {

  myVideo = document.getElementById("myVideo");
  
  getMedia();
};


/////////////////////////////
// This next section is for getting local media
/////////////////////////////

  // start local video
  function getMedia() {
    navigator.mediaDevices.getUserMedia({video: true, audio: false})
    .then(function (stream) { // success
      myVideoStream = stream;
      myVideo.srcObject = myVideoStream;
    }).catch(function (error) { // error
      console.error('mediaDevice.getUserMedia() error:', error);
      return;
    });
  }


</script>

<div id="setup">
  <p>WebRTC Book Demo (local media only)</p>
</div>

<br/>

<div style="width:30%;vertical-align:top">
  <div>
    <video id="myVideo" autoplay="autoplay" controls
           muted="true"/>
  </div>
</div>

</body>
</html>
